# VL53L0x_TCP
Данный проект представляет собой систему управления периферийными устройствами на базе МК stm32f407ZT6.
Проект подготовлен к участию в соревнованиях Евробот2019.
К микроконтроллеру подключены лазерные дальномеры VL53L0x, аварийная кнопка, стартовый концевик, 
сервоприводы и другие устройсвта. На stm32 развернут TCP клиент на базе стеков протокола LWIP.
По интерфейсу ethernet плата подключена к промышленному контроллеру CompactRIO, на котором 
разверунт TCP сервер и базируется ситема управления движением, а также машинное зрение робота.
Микроконтроллер отслеживает данные с дальномеров и в режиме реального времени передает 
сигналы о наличии или отсутствии припятствий по TCP протоколу на сервер. 
При поступлении сообщения с сервера МК подает команду на захват роботом по средствам сервоприводов
шайб (предусмотренных регламентом соревнований). 

Проект выполнен на основе ОС реального времени Freertos. Для синхронизации работы различных
прерываний использованы бинарные семафоры, а для передачи данных между задачами - очереди. 
Отладка переполнения стеков задач выполнялась с помощью встроенных систем System Borkbench,
а отладка корректности данных с дальномеров - по протоколу Usart.

В файле vl53l0x_calibration.c описана функция калибровки и настройки лазерных дальномеров.
В файле freertos.c описан функционал работы проекта.

По всем вопросам писать на почту klynkin.kirill@yandex.ru
